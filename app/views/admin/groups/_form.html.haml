= form_for [:admin, @group], html: { class: "form-horizontal" } do |f|
  - if @group.errors.any?
    .alert.alert-danger
      %span= @group.errors.full_messages.first
  .form-group.group_name_holder
    = f.label :name, class: 'control-label' do
      グループ名
    .col-sm-10
      = f.text_field :name, placeholder: "Example Group", class: "form-control"

  .form-group.group-description-holder
    = f.label :description, "詳細", class: 'control-label'
    .col-sm-10
      = f.text_area :description, maxlength: 250, class: "form-control js-gfm-input", rows: 4

  .form-group.group-description-holder
    = f.label :avatar, "グループアバター", class: 'control-label'
    .col-sm-10
      %a.choose-btn.btn.btn-small.js-choose-group-avatar-button
        %i.fa.fa-paperclip
        %span ファイルを選択...
      &nbsp;
      %span.file_name.js-avatar-filename ファイル名...
      = f.file_field :avatar, class: "js-group-avatar-input hidden"
      .light ファイルの最大サイズは100KBです

  - if @group.new_record?
    .form-group
      .col-sm-2
      .col-sm-10
        .bs-callout.bs-callout-info
          %ul
            %li グループは複数のプロジェクトの集合です。
            %li グループはデフォルトではプライベートです。
            %li グループのメンバーはアクセス権のあるプロジェクトだけ参照することができます。
            %li グループのプロジェクトのURLにはグループのネームスペースのプレフィクスが付きます。
            %li 既存のプロジェクトをグループに移すこともできます。
    .form-actions
      = f.submit 'グループを作成', class: "btn btn-create"
      = link_to  'キャンセル', admin_groups_path, class: "btn btn-cancel"

  - else
    .form-group.group_name_holder
      = f.label :path, class: 'control-label' do
        %span グループのパス
      .col-sm-10
        = f.text_field :path, placeholder: "example-group", class: "form-control danger"
        .bs-callout.bs-callout-danger
          %ul
            %li グループのパスを変更すると予期しない副作用が生じる可能性があります。
            %li グループのパスを変更すると関連するすべてのプロジェクトのディレクトリ名が変更されます。
            %li グループとグループ内のすべてのプロジェクトのWeb URLが変更されます。
            %li グループ内のリポジトリのGitのパスも変更されます。
    .form-actions
      = f.submit '変更を保存', class: "btn btn-primary"
      = link_to  'キャンセル', admin_group_path(@group), class: "btn btn-cancel"

